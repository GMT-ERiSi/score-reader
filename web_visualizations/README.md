# Squadrons Stats - Web Visualizations

This directory contains the frontend code (HTML, CSS, JavaScript) for visualizing the ELO ratings and potentially other statistics generated by the main Squadrons Screenshot Reader project.

## Purpose

The goal is to provide an interactive web-based interface to explore the processed game data, including:
- Team ELO progression and rankings.
- Pickup/Ranked Player ELO progression and rankings.
- (Future) Other statistical leaderboards.

## Development Approach (Phased)

Development is following a phased approach as outlined in the main `PRD_frontend.md`:

*   **Phase 1 (MVP - Complete):**
    *   Basic HTML structure (`index.html`).
    *   Basic CSS styling (`style.css`) with responsiveness.
    *   JavaScript (`script.js`) to load data and render visualizations.
    *   Basic, non-interactive line charts for Team ELO history and Pickup Player ELO history using Chart.js.
    *   Static HTML tables displaying the current Team ELO ladder and Pickup Player ELO ladder.
    *   **Note:** Currently configured to use embedded dummy data for demonstration.

*   **Phase 2 (Enhancements - Future):**
    *   Add sorting and filtering capabilities to the leaderboard tables.
    *   Implement all initially planned leaderboards (e.g., AI Kills, Damage).
    *   Enhance chart interactivity (e.g., tooltips, zooming).
    *   Improve overall styling and responsiveness.

*   **Phase 3 (Future):**
    *   Address items from the "Future Considerations" section in `PRD_frontend.md` (e.g., additional stats, H2H comparisons).

## Running the Visualization

Because browsers restrict local HTML files (`file:///`) from fetching other local files (like the JSON reports) for security reasons, you need to run a simple local web server to view this page correctly when using real data.

1.  **Navigate to the project root directory** (the parent directory of `web_visualizations/`) in your terminal.
2.  **Start a simple Python HTTP server:**
    ```bash
    python -m http.server 8000
    ```
    (If Python is not in your PATH, you might need `python3` or the full path to your Python executable).
3.  **Open your web browser** and go to: `http://localhost:8000/web_visualizations/`

## Current Status: Using Dummy Data

Currently, `script.js` is configured to use **embedded dummy data** instead of fetching the real JSON files from `../stats_reports/` and `../elo_reports_pickup/`. This allows viewing the visualization structure and functionality without needing the actual report files to be generated or present.

### Switching Back to Real Data

To switch back to using the real, fetched data:

1.  Open `web_visualizations/script.js`.
2.  **Delete or comment out** the entire `// --- Dummy Data Generation ---` section (approximately lines 1-151).
3.  **Uncomment** the `async function fetchData() { ... }` block (remove the `/*` and `*/` around it, approx lines 167-171).
4.  **Modify the event listener** at the very bottom of the file:
    *   Change:
        ```javascript
        document.addEventListener('DOMContentLoaded', () => {
            console.log("Using dummy data for visualization.");
            // Assign dummy data to global variables
            teamEloHistory = dummyTeamEloHistory;
            teamEloLadder = dummyTeamEloLadder;
            pickupEloHistory = dummyPickupEloHistory;
            pickupEloLadder = dummyPickupEloLadder;

            // Render visualizations with dummy data
            renderVisualizations();
        });
        ```
    *   To:
        ```javascript
        document.addEventListener('DOMContentLoaded', fetchData);
        ```
5.  Save the changes to `script.js`.
6.  Ensure the required JSON files exist in `../stats_reports/` and `../elo_reports_pickup/`.
7.  Run the local web server as described above and access the page via `http://localhost:8000/web_visualizations/`.